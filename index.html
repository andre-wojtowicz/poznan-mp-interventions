<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Municipal Police of Poznań - interventions by andre-wojtowicz</title>
    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-dark.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">

  </head>
  <body>
      <div id="header">
        <nav>
          <li class="fork"><a href="https://github.com/andre-wojtowicz/poznan-mp-interventions">View On GitHub</a></li>
          <li class="downloads"><a href="https://github.com/andre-wojtowicz/poznan-mp-interventions/zipball/master">ZIP</a></li>
          <li class="downloads"><a href="https://github.com/andre-wojtowicz/poznan-mp-interventions/tarball/master">TAR</a></li>
          <li class="title">DOWNLOADS</li>
        </nav>
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div id="title">
          <h1>Municipal Police of Poznań - interventions</h1>
          <p>Scripts and data necessary to visualize on a map the interventions given by Municipal Police of Poznań</p>
          <hr>
          <span class="credits left">Project maintained by <a href="https://github.com/andre-wojtowicz">andre-wojtowicz</a></span>
          <span class="credits right">Hosted on GitHub Pages &mdash; Theme by <a href="https://twitter.com/michigangraham">mattgraham</a></span>
        </div>

        <h1>
<a id="municipal-police-of-poznań---visualization-of-interventions" class="anchor" href="#municipal-police-of-pozna%C5%84---visualization-of-interventions" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Municipal Police of Poznań - visualization of interventions</h1>

<p>This repo contains scripts and data necessary to visualize on a map the interventions given by Municipal Police of Poznań.</p>

<p>Final maps are stored in <a href="poznan-mp-2013-06-17-2013-10-09-pl-qgis.zip">qgis</a> format.</p>

<p>Generated interventions HTML heat-maps for districts:</p>

<ul>
<li>
<a href="poznan-mp-2013-06-17-2013-10-09-interventions.html">no. interventions in districts</a>,</li>
<li>
<a href="poznan-mp-2013-06-17-2013-10-09-log-interventions.html">log no. interventions in districts</a>,</li>
<li>
<a href="poznan-mp-2013-06-17-2013-10-09-interventions-per-citizens.html">no. interventions per citizens in districts</a>,</li>
<li>
<a href="poznan-mp-2013-06-17-2013-10-09-log-interventions-per-citizens.html">log no. interventions per citizens in districts</a>.</li>
</ul>

<p>Generated images of QGIS interventions heat-maps for districts:</p>

<p><img src="poznan-mp-2013-06-17-2013-10-09-heatmap-all.png" alt="all"></p>

<p><img src="poznan-mp-2013-06-17-2013-10-09-heatmap-alcohol.png" alt="alcohol"></p>

<p><img src="poznan-mp-2013-06-17-2013-10-09-heatmap-parking.png" alt="parking"></p>

<p><img src="poznan-mp-2013-06-17-2013-10-09-heatmap-disturbing.png" alt="disturbing public order"></p>

<p>Time of reports:</p>

<p><img src="poznan-mp-2013-06-17-2013-10-09-time-of-reports.png" alt="time of reports"></p>

<p>Final generated <a href="poznan-mp-interventions-2013-06-17-2013-10-09-stats.xlsx">statistics</a>.</p>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>R 3.x with vwr library</li>
<li>Python 2.6 with requests library</li>
</ul>

<h3>
<a id="how-to" class="anchor" href="#how-to" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>How-to</h3>

<p>I assume you have your own raw copy of the list of MP interventions, say i.e. <code>db/poznan-mp-interventions-2013-06-17-2013-10-09.csv</code>.</p>

<p>Execution goes as follows:</p>

<ol>
<li>
<code>extract_streets_and_places.R</code> - looks for name of street or place in description of intervention,</li>
<li>
<code>add_lat_lon.py</code> - performs reverse geocoding using Google Maps API,</li>
<li>
<code>clean_csv.py</code> - removes unnecessary columns,</li>
<li>
<code>add_district.py</code> - adds name of district to intervention,</li>
<li>
<code>create_html_visualizations.py</code> - generates nice html heat-maps for districts (in Polish).</li>
</ol>

<h3>
<a id="notes-for-scripts" class="anchor" href="#notes-for-scripts" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Notes for scripts</h3>

<ul>
<li>
<code>add_lat_lon.py</code> - sometimes Google returns that there is no lon/lat for given address; then just re-run the script.</li>
<li>
<code>add_district.py</code> - some of coordinates given by Google may lay outside the districts boundaries; the script will output ids of such interventions.</li>
</ul>

<h2>
<a id="sources-of-data" class="anchor" href="#sources-of-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Sources of data</h2>

<ul>
<li>list of streets in Poznań - <a href="http://www.poznan.pl/api">Poznań API</a>
</li>
<li>list of streets, parks, bridges in Poznań - <a href="http://sip.geopoz.pl/">GEOPOZ</a>
</li>
<li>
<a href="http://www.poznan.pl/mim/osiedla/list/">list of districts in Poznań</a> with their boundaries (<a href="http://www.poznan.pl/mim/plan/services.html?co=gml&amp;service=districts&amp;districts_id=42">an example for Jeżyce</a>)</li>
<li>number of citizens in districts of Poznań - <a href="http://sip.geopoz.pl/">GEOPOZ</a>
</li>
</ul>
      </section>

    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
    
  </body>
</html>
